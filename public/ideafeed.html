<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
  <title>Idea Feed</title>
  <style>
  /*This is the start of the CSS*/

  .idea-box {
    background-color: #FFF0A5;
    padding: 20px;
  }

  h1 {
    text-align: center;
    color: #FFB03B;
  }

  h2 {
    color: #468966;
    margin: 10px;
    padding: 10px;
    border: 2px solid #FFB03B;
    border-radius: 5px;
    text-align: center;
  }

  /*end of CSS */
  </style>
</head>
<body>
  <h1 class="title">Runsheet Generator</h1>
  <form class="inputForm" method="post" action="/ideas">
    <input class="ideaInput" type="text" name="idea" value="idea goes here">
    <input type="submit" value="Submit">
  </form>
  <div class="idea-box">
  </div>
  <script>
  //Hello! This is the start of the JavaScript.

  var displayIdea = function(idea) {
    var ideaElement = $('<h2>' + idea + '</h2>');
    $(".idea-box").append(ideaElement);
  }

  var createFeed = function(data) {
    $(".idea-box").empty();
    data.forEach(displayIdea);
  }

  var updateFeed = function() {
    $.get("/ideas", createFeed);
  }

  updateFeed();

  var stayOnPage = function (e) {
    e.preventDefault();
    var data = {};
    data.idea = $(".ideaInput").val();
    $.post( "/ideas" , data, updateFeed);
  }

  $(".inputForm").on("submit",stayOnPage);

  //This is the end of the JavaScript.
  </script>
</body>
</html>
